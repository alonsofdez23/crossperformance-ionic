<ion-header class="ion-no-border" [translucent]="true">
  <ion-toolbar>
    <ion-buttons slot="start">
      <ion-back-button text="Atrás" default-href="/menu"></ion-back-button>
    </ion-buttons>
    <ion-title>{{ user?.name ?? 'Perfil' }}</ion-title>
    <ion-buttons slot="end">
      <ion-button (click)="submitForm()" [strong]="true">Actualizar</ion-button>
    </ion-buttons>
    <ion-progress-bar color="primary" *ngIf="loading" type="indeterminate"></ion-progress-bar>
  </ion-toolbar>
</ion-header>

<ion-content [fullscreen]="true">
  <ion-header collapse="condense">
    <ion-toolbar>
      <ion-title size="large">{{ user?.name ?? 'Perfil' }}</ion-title>
    </ion-toolbar>
  </ion-header>

  <div class="main">
    <div class="logo" (click)="presentActionSheet()">
      <ion-avatar>
        <img *ngIf="user;else dumbbell" [alt]="user?.name" [src]="this.photoService.photoBase64 ? this.photoService.photoBase64 : user?.profile_photo_url" />
        <ng-template #dumbbell><ion-icon name="barbell"></ion-icon></ng-template>
      </ion-avatar>
    </div>

    <!-- <div *ngFor="let photo of this.photoService.photos">
      <ion-avatar>
        <img [src]="photo.webviewPath" alt="">
      </ion-avatar>
      <p>{{ photo }}</p>
    </div> -->

    <!-- Login -->

    <form action="" [formGroup]="profileForm" method="post">

      <ion-item>
        <ion-input
          formControlName="name"
          label="Nombre"
          [clearInput]="true"
          type="text"
          placeholder="nombre"
          ngModel
          name
        ></ion-input>
      </ion-item>
      <ion-item>
        <ion-input
          formControlName="email"
          label="Email"
          [clearInput]="true"
          type="email"
          placeholder="email@gmail.com"
          ngModel
          email
        ></ion-input>
      </ion-item>
      <ion-item>
        <ion-input
          formControlName="password"
          label="Contraseña"
          type="password"
          placeholder="contraseña">
          <ion-input-password-toggle slot="end"></ion-input-password-toggle>
        </ion-input>
      </ion-item>

      <!-- <ion-button
      type="submit"
      fill="clear"
      color="dark"
      size="large">
        <ion-icon color="primary" name="log-in"></ion-icon>
      </ion-button> -->

    </form>

  </div>

</ion-content>
